---
import "../styles/global.css";
import Navbar from "../components/Navbar.astro";
import Footer from "../components/Footer.astro";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/png" href="/wb_po.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Epilogue:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <meta name="generator" content={Astro.generator} />
    <meta name="description" content={Astro.props.description ?? 'A personal portfolio showcasing projects, skills and contact information.'} />
    <meta name="keywords" content="portfolio, web developer, projects, JavaScript, Astro, frontend" />
    <meta name="author" content={Astro.props.author ?? 'Your Name'} />
    <meta name="theme-color" content="#111827" />

    <link rel="canonical" href={Astro.props.url ?? '/'} />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content={Astro.props.title ?? 'Portfolio'} />
    <meta property="og:description" content={Astro.props.description ?? 'A personal portfolio showcasing projects, skills and contact information.'} />
    <meta property="og:url" content={Astro.props.url ?? '/'} />
    <meta property="og:image" content={Astro.props.image ?? '/wb_po.png'} />
    <meta property="og:site_name" content="Portfolio" />

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content={Astro.props.title ?? 'Portfolio'} />
    <meta name="twitter:description" content={Astro.props.description ?? 'A personal portfolio showcasing projects, skills and contact information.'} />
    <meta name="twitter:image" content={Astro.props.image ?? '/wb_po.png'} />
    <meta name="twitter:creator" content={Astro.props.twitter ?? '@yourhandle'} />
    <!-- <title>Portfolio</title> -->
  </head>
  <body>
    <Navbar/>
    <slot />
  <Footer />

  <!-- Back to Top Button -->
  <button id="back-to-top" class="back-to-top" aria-label="Back to top" title="Back to top">â†‘</button>

  <style>
    .back-to-top {
      position: fixed;
      right: 20px;
      bottom: 24px;
      width: 44px;
      height: 44px;
      display: grid;
      place-items: center;
      border: none;
      border-radius: 9999px;
      background: var(--primary);
      color: var(--white);
      box-shadow: 0 6px 20px rgba(0,0,0,0.15);
      cursor: pointer;
      opacity: 0;
      transform: translateY(8px);
      pointer-events: none;
      transition: opacity 0.25s ease, transform 0.25s ease, background 0.2s ease;
      z-index: 9999;
    }
    .back-to-top:hover {
      background: #2f21d3;
    }
    .back-to-top.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    @media (max-width: 480px) {
      .back-to-top {
        right: 14px;
        bottom: 16px;
      }
    }
  </style>

  <script>
    (function () {
      const btn = document.getElementById('back-to-top');
      if (!btn) return;
      const toggle = () => {
        const y = window.scrollY || document.documentElement.scrollTop || 0;
        if (y > 300) btn.classList.add('show'); else btn.classList.remove('show');
      };
      window.addEventListener('scroll', toggle, { passive: true });
      window.addEventListener('load', toggle);
      btn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    })();
  </script>
  </body>
</html>
